jQuery(function(){function e(){var e=jQuery(".meta-box-sortables"),o=jQuery(".postbox .hndle");e.length&&(e.sortable({disabled:!0}),o.css("cursor","pointer"))}function o(){var e,o=20,i=jQuery("#submitdiv"),l=jQuery("#post-body"),t=jQuery("body"),o=20;i.length&&(e=i.position().top,jQuery(window).scroll(function(){if(l.hasClass("columns-1")){var r=jQuery(window).scrollTop()-e-36;r>0?t.hasClass("sticky-submit")||(t.addClass("sticky-submit"),i.css({marginTop:0}),i.find(".sticky-actions").show(),i.find(".non-sticky").hide()):t.hasClass("sticky-submit")&&(t.removeClass("sticky-submit"),i.find(".sticky-actions").hide(),i.find(".non-sticky").show())}else{var r=jQuery(window).scrollTop()-e+o;r>0?i.css({marginTop:r}):i.css({marginTop:0})}}),setTimeout(function(){jQuery(window).trigger("scroll")},100))}function i(){var e=jQuery(".colorpicker");if(e.length&&"function"==typeof e.wpColorPicker){var o=function(e){var o=jQuery(e.target),i=o.closest(".wp-picker-container"),l=i.find(".colorpicker"),t=jQuery(".colorpicker");i.length&&(t=t.not(l)),t.each(function(){var e=jQuery(this),o=e.closest(".wp-picker-container");e.iris("hide"),e.hide(),o.find(".wp-picker-clear").addClass("hidden"),o.find(".wp-picker-open").removeClass("wp-picker-open")})};e.wpColorPicker(),jQuery(document).on("mousedown",o),jQuery(document).on("click",o),jQuery(document).on("mouseup",o)}}function l(){var e=jQuery("#po-custom-colors"),o=jQuery("#po-custom-size"),i=jQuery("#po-display-delay"),l=jQuery("#po-display-scroll"),t=jQuery("#po-display-anchor"),r=jQuery("#po-can-hide"),n=jQuery("#po-close-hides");if(e.length){var a=function(){var e=jQuery(this),o=e.data("toggle"),i=jQuery(o),l=e.data("or"),t=e.data("and"),r=!1;if(i.length){if(l){var n=jQuery(l);r=n.filter(":checked").length>0}else if(t){var n=jQuery(t);r=n.length==n.filter(":checked").length}else r=e.prop("checked");r?(i.removeClass("inactive"),i.find("input,select,textarea,a").prop("readonly",!1).removeClass("disabled")):(i.addClass("inactive"),i.find("input,select,textarea,a").prop("readonly",!0).addClass("disabled")),i.addClass("inactive-anim")}},s=function(){var e=jQuery(this),o=e.attr("name"),i=jQuery('[name="'+o+'"]');i.each(function(){a.call(this)})};e.click(a),o.click(a),r.click(a),n.click(a),i.click(s),l.click(s),t.click(s),a.call(e),a.call(o),a.call(r),a.call(n),a.call(i),a.call(l),a.call(t)}}function t(){var e=jQuery("#meta-rules .all-rules"),o=jQuery("#meta-rules .active-rules"),i=jQuery("#po-rule-order");if(e.length){var l=function(){for(var e=o.find(".rule.on"),l=[],t=0;t<e.length;t+=1)l.push(jQuery(e[t]).data("key"));i.val(l.toString())},t=function(e){var o=jQuery(e.target),i=o.find("input.wpmui-toggle-checkbox");if(!o.closest(".wpmui-toggle").length)return o.hasClass("inactive")?!1:(i.trigger("click"),void 0)},r=function(){var e=jQuery(this),i=e.closest(".rule"),t=e.data("form"),r=o.find(t),a=e.prop("checked");a?(i.removeClass("off").addClass("on"),r.removeClass("off").addClass("on open"),r.appendTo(o)):(i.removeClass("on").addClass("off"),r.removeClass("on").addClass("off")),n(e,a),l()},n=function(i,l){var t,r,n,a=i.data("exclude"),s=a?a.split(","):[];for(t=s.length-1;t>=0;t-=1)r=e.find(".rule-"+s[t]),n=o.find("#po-rule-"+s[t]),r.prop("disabled",l),l?(r.addClass("inactive off").removeClass("on"),n.addClass("off").removeClass("on")):r.removeClass("inactive off")},a=function(){var e=jQuery(this),o=e.closest(".rule");o.toggleClass("open")};o.sortable({axis:"y",handle:".rule-title",helper:"clone",opacity:.75,update:l}),o.disableSelection(),e.find("input.wpmui-toggle-checkbox").click(r),e.find(".rule").click(t),o.on("click",".rule-title,.rule-toggle",a),e.find(".rule.on input.wpmui-toggle-checkbox").each(function(){n(jQuery(this),!0)}),jQuery(".init-loading").removeClass("wpmui-loading")}}function r(){var e,o=jQuery('select[name="action"] '),i=jQuery('select[name="action2"] ');if(o.length&&"object"==typeof window.po_bulk)for(e in po_bulk)jQuery("<option>").val(e).text(po_bulk[e]).appendTo(o).clone().appendTo(i)}function n(){var e=jQuery("table.posts");if(tbody=e.find("#the-list"),tbody.length){var o=function(o,i){if(e.removeClass("wpmui-loading"),i)for(var l in o)o.hasOwnProperty(l)&&tbody.find("#post-"+l+" .the-pos").text(o[l])},i=function(){var i,l=tbody.find("tr"),t=[];for(i=0;i<l.length;i+=1)t.push(jQuery(l[i]).attr("id"));e.addClass("wpmui-loading"),wpmUi.ajax(null,"po-ajax").data({"do":"order",order:t}).ondone(o).load_json()};tbody.sortable({placeholder:"ui-sortable-placeholder",axis:"y",handle:".column-po_order",helper:"clone",opacity:.75,update:i}),tbody.disableSelection()}}jQuery("body.post-type-inc_popup").length&&(jQuery("body.post-php").length||jQuery("body.post-new-php").length?(e(),o(),i(),l(),t(),wpmUi.upgrade_multiselect()):jQuery("body.edit-php").length&&(n(),r()))});