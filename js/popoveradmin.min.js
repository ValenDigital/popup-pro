function popoverremoveaction(){var e=jQuery(this).attr("id"),o=e.replace("remove-","");return jQuery("#main-"+o).appendTo("#hiden-actions"),jQuery("#"+o).show(),jQuery("#in-positive-rules").val(jQuery("#in-positive-rules").val().replace(","+o,"")),!1}function popoverremovemessage(){return jQuery("#upmessage").remove(),!1}function popoverclickactiontoggle(){jQuery(this).parent().hasClass("open")?(jQuery(this).parent().removeClass("open").addClass("closed"),jQuery(this).parents(".action").find(".action-body").removeClass("open").addClass("closed")):(jQuery(this).parent().removeClass("closed").addClass("open"),jQuery(this).parents(".action").find(".action-body").removeClass("closed").addClass("open"))}function popoveraddtorules(){return moving=jQuery(this).parents(".popover-draggable").attr("id"),""!=moving&&(jQuery("#main-"+moving).appendTo("#positive-rules-holder"),jQuery("#"+moving).hide(),jQuery("#in-positive-rules").val(jQuery("#in-positive-rules").val()+","+moving)),!1}function popoverReady(){jQuery(".popover-draggable").draggable({opacity:.7,helper:"clone",start:function(){jQuery("input#beingdragged").val(jQuery(this).attr("id"))},stop:function(){jQuery("input#beingdragged").val("")}}),jQuery(".droppable-rules").droppable({hoverClass:"hoveringover",drop:function(){moving=jQuery("input#beingdragged").val(),ruleplace=jQuery(this).attr("id"),""!=moving&&(jQuery("#main-"+moving).appendTo("#"+ruleplace+"-holder"),jQuery("#"+moving).hide(),jQuery("#in-"+ruleplace).val(jQuery("#in-"+ruleplace).val()+","+moving))}}),jQuery("#positive-rules-holder").sortable({opacity:.7,helper:"clone",placeholder:"placeholder-rules",update:function(){jQuery("#in-positive-rules").val(","+jQuery("#positive-rules-holder").sortable("toArray").join(",").replace(/main-/gi,""))}}),jQuery("a.removelink").click(popoverremoveaction),jQuery("a#closemessage").click(popoverremovemessage),jQuery(".action .action-top .action-button").click(popoverclickactiontoggle),jQuery("a.action-to-popover").click(popoveraddtorules)}jQuery(document).ready(popoverReady),function(e){e(function(){var o=e("#popover-usejs-size"),r=e("#popover-usejs-position"),i=e("#popoverusejs");if(!o.length||!r.length||!i.length)return!1;var a=function(){var r=o.is(":checked");e("#popoverwidth,#popoverheight").attr("disabled",r)};o.on("change",a),a();var n=function(){var o=r.is(":checked");e("#popoverleft,#popovertop").attr("disabled",o)};r.on("change",n),n();var p=function(){var o=i.is(":checked");e("#popoverwidth,#popoverheight,#popoverleft,#popovertop").attr("disabled",o)};i.on("change",p),p()})}(jQuery);